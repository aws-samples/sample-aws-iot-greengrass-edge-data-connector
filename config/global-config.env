# IoT Greengrass CDC 解决方案 - 全局配置
# =====================================================

# AWS 配置 - 中国区:
export AWS_ACCOUNT_ID="4058xxxxxxxx"
export AWS_REGION="cn-north-1"
export AWS_ACCESS_KEY_ID="xxxxxx"
export AWS_SECRET_ACCESS_KEY="xxxxxxxxx"

# AWS分区配置 (支持中国区)
# 对于中国区，设置为 "aws-cn"，对于其他区域设置为 "aws"
# export AWS_PARTITION="aws"
# 如果部署到中国区，请修改为：
export AWS_PARTITION="aws-cn"
export AWS_REGION="cn-north-1"  # 或 cn-northwest-1

# Greengrass 配置
export GREENGRASS_CORE_DEVICE="MyGreengrassCore_ab_china"
export GREENGRASS_GROUP_NAME="abGreengrassGroup_China"

# S3 配置
export S3_BUCKET="zihangh-gg-streammanager-poc"
export S3_KEY_PREFIX_DEBEZIUM="gg_mysql/debezium-embedded/"
export S3_KEY_PREFIX_SFTP="gg_mysql/sftp-sync/"
export S3_KEY_PREFIX_MYSQL="gg_mysql/mysql-polling/"

# MySQL 配置
export MYSQL_HOST="localhost"
export MYSQL_PORT="3306"
export MYSQL_DATABASE="testdb"
export MYSQL_USERNAME="testuser"
export MYSQL_PASSWORD="testpassword"

# SFTP 配置
export SFTP_HOST="localhost"
export SFTP_PORT="22"
export SFTP_USERNAME="sftpuser"
export SFTP_PASSWORD="sftppassword123"
export SFTP_REMOTE_PATH="/data"

# 组件版本管理
export DEBEZIUM_COMPONENT_VERSION="1.0.1"
export SFTP_COMPONENT_VERSION="1.0.1"
export MYSQL_COMPONENT_VERSION="1.0.1"

# Stream Manager 配置
export STREAM_MANAGER_VERSION="2.2.1"
export STREAM_MANAGER_PORT="8088"

# 构建和部署配置
export BUILD_PARALLEL_JOBS="3"
export DEPLOYMENT_TIMEOUT="300"
export HEALTH_CHECK_TIMEOUT="60"

# 日志配置
export LOG_LEVEL="INFO"
export LOG_RETENTION_DAYS="7"

# 性能配置
export JAVA_HEAP_SIZE="512m"
export PYTHON_WORKER_THREADS="2"
export BATCH_SIZE="100"
export POLLING_INTERVAL="300"  # MySQL轮询间隔(秒)
export SFTP_SCAN_INTERVAL="30"  # SFTP扫描间隔(秒)

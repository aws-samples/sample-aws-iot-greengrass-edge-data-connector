# Debezium Embedded Engine Configuration for MySQL CDC
# IoT Project - AWS IoT Greengrass v2

# Engine Configuration
name=debezium-embedded-mysql-connector
connector.class=io.debezium.connector.mysql.MySqlConnector

# MySQL Connection Configuration
database.hostname=localhost
database.port=3306
database.user=testuser
database.password=testpassword
database.server.id=3001

# Database and Table Selection
database.include.list=testdb
table.include.list=testdb.sensor_data

# Topic Configuration
topic.prefix=ab-mysql-embedded

# Schema History Configuration (File-based for embedded mode)
schema.history.internal=io.debezium.storage.file.history.FileSchemaHistory
schema.history.internal.file.filename=/tmp/debezium-schema-history.dat

# Offset Storage Configuration (File-based for embedded mode)
offset.storage=org.apache.kafka.connect.storage.FileOffsetBackingStore
offset.storage.file.filename=/tmp/debezium-offsets.dat
offset.flush.interval.ms=10000

# MySQL Connector Specific Configuration
database.connectionTimeZone=UTC
include.schema.changes=false
include.query=false

# Binlog Configuration
binlog.buffer.size=8192
max.batch.size=2048
max.queue.size=8192

# Snapshot Configuration - 只读取schema，不读取数据
snapshot.mode=schema_only
snapshot.locking.mode=none

# Event Processing Configuration
provide.transaction.metadata=false
sanitize.field.names=true

# Tombstone Configuration
tombstones.on.delete=false

# Decimal Handling
decimal.handling.mode=double

# Time Handling
time.precision.mode=adaptive_time_microseconds

# Binary Handling
binary.handling.mode=bytes
